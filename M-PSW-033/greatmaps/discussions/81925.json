[
  {
    "Id": "281366",
    "ThreadId": "81925",
    "Html": "<p>Hi</p>\r\n<p>I'm spanish and my english is not good. I try if</p>\r\n<p>I like use the GMAP control with the data tiles of the follow spain ortofoto service.</p>\r\n<p>this is de url of viewer: <a href=\"http://sigpac.mapa.es/fega/visor/\">http://sigpac.mapa.es/fega/visor/</a>&nbsp;an this is the info of coordinate system and projection used, I think :-)...</p>\r\n<p>&nbsp;GEOGCS[\\&quot;ED50\\&quot;,&quot; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;DATUM[\\&quot;European Datum 1950\\&quot;,&quot;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;&nbsp; SPHEROID[\\&quot;International 1924\\&quot;, 6378388.0, 297.0, AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;7022\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;&nbsp; TOWGS84[-157.89, -17.16, -78.41, 2.118, 2.697, -1.434, -1.1097046576093785],&quot; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;&nbsp; AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;6230\\&quot;]],&quot;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;PRIMEM[\\&quot;Greenwich\\&quot;, 0.0, AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;8901\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;UNIT[\\&quot;degree\\&quot;, 0.017453292519943295],&quot; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;AXIS[\\&quot;Geodetic longitude\\&quot;, EAST],&quot; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;AXIS[\\&quot;Geodetic latitude\\&quot;, NORTH],&quot; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; + &quot;AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;4230\\&quot;]]&quot;);</p>\r\n<p><br>PROJCS[\\&quot;ED50 / UTM zone 30N\\&quot;,&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;GEOGCS[\\&quot;ED50\\&quot;,&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;DATUM[\\&quot;European Datum 1950\\&quot;,&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;SPHEROID[\\&quot;International 1924\\&quot;, 6378388.0, 297.0, AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;7022\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;TOWGS84[-157.89, -17.16, -78.41, 2.118, 2.697, -1.434, -1.1097046576093785],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;6230\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;PRIMEM[\\&quot;Greenwich\\&quot;, 0.0, AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;8901\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;UNIT[\\&quot;degree\\&quot;, 0.017453292519943295],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AXIS[\\&quot;Geodetic longitude\\&quot;, EAST],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AXIS[\\&quot;Geodetic latitude\\&quot;, NORTH],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;4230\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;PROJECTION[\\&quot;Transverse Mercator\\&quot;, AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;9807\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;PARAMETER[\\&quot;central_meridian\\&quot;, -3.0],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;PARAMETER[\\&quot;latitude_of_origin\\&quot;, 0.0],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;PARAMETER[\\&quot;scale_factor\\&quot;, 0.9996],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;PARAMETER[\\&quot;false_easting\\&quot;, 500000.0],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;PARAMETER[\\&quot;false_northing\\&quot;, 0.0],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;UNIT[\\&quot;m\\&quot;, 1.0],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AXIS[\\&quot;Easting\\&quot;, EAST],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AXIS[\\&quot;Northing\\&quot;, NORTH],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;23030\\&quot;]]&quot;);</p>\r\n<p>i changed something in the code. Finally it work but with no precision in map. this is the code i wrote:</p>\r\n<p>in&nbsp;</p>\r\n<p><span style=\"color:#0000ff;font-size:xx-small\"><span style=\"color:#0000ff;font-size:xx-small\">internal</span></span><span style=\"font-size:xx-small\"> </span><span style=\"color:#0000ff;font-size:xx-small\"><span style=\"color:#0000ff;font-size:xx-small\">string</span></span><span style=\"font-size:xx-small\"> MakeImageUrl(</span><span style=\"color:#2b91af;font-size:xx-small\"><span style=\"color:#2b91af;font-size:xx-small\">MapType</span></span><span style=\"font-size:xx-small\"> type, </span><span style=\"color:#2b91af;font-size:xx-small\"><span style=\"color:#2b91af;font-size:xx-small\">Point</span></span><span style=\"font-size:xx-small\"> pos, </span><span style=\"color:#0000ff;font-size:xx-small\"><span style=\"color:#0000ff;font-size:xx-small\">int</span></span><span style=\"font-size:xx-small\"> zoom, </span><span style=\"color:#2b91af;font-size:xx-small\"><span style=\"color:#2b91af;font-size:xx-small\">PureProjection</span></span><span style=\"font-size:xx-small\"> projection)</span></p>\r\n<p><span style=\"color:#0000ff;font-size:xx-small\"><span style=\"color:#0000ff;font-size:xx-small\">case</span></span><span style=\"font-size:xx-small\"> </span><span style=\"color:#2b91af;font-size:xx-small\"><span style=\"color:#2b91af;font-size:xx-small\">MapType</span></span><span style=\"font-size:xx-small\">.WMS_SIGPAC:</span></p>\r\n<p style=\"padding-left:30px\"><span style=\"color:#2b91af;font-size:xx-small\"><span style=\"color:#2b91af;font-size:xx-small\">String</span></span><span style=\"font-size:xx-small\"> key = _makeWmsKeySig(type, pos, zoom, projection);</span></p>\r\n<p style=\"padding-left:30px\"><span style=\"color:#0000ff;font-size:xx-small\"><span style=\"color:#0000ff;font-size:xx-small\">return</span></span><span style=\"font-size:xx-small\"> key</span></p>\r\n<p>and _makeWmsKeySig</p>\r\n<p>private string _makeWmsKeySig(MapType type, Point pos, int zoom, PureProjection projection)</p>\r\n<p>{</p>\r\n<p>double X = 0;</p>\r\n<p>double Y = 0;</p>\r\n<p>switch (zoom)</p>\r\n<p>{</p>\r\n<p>default:</p>\r\n<p>return string.Format(&quot;http://maps{0}.yimg.com/hx/tl?v={1}&amp;.intl={2}&amp;x={3}&amp;y={4}&amp;z={5}&amp;r=1&quot;, ((GetServerNum(pos, 2)) + 1), VersionYahooMap, &quot;es&quot;, pos.X, (((1 &lt;&lt; zoom) &gt;&gt; 1) - 1 - pos.Y), (zoom + 1));</p>\r\n<p>case 7: // 4096</p>\r\n<p>{</p>\r\n<p>Y = (4182 &gt;&gt; 6) - pos.Y;</p>\r\n<p>X = pos.X - (3902 &gt;&gt; 6);</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_2000_t;z=30;r=1024000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 8: // 4096</p>\r\n<p>{</p>\r\n<p>Y = (4182 &gt;&gt; 5) - pos.Y;</p>\r\n<p>X = pos.X - (3902 &gt;&gt; 5);</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_2000_t;z=30;r=512000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 9: // 4096</p>\r\n<p>{</p>\r\n<p>Y = (4182 &gt;&gt; 4) - pos.Y;</p>\r\n<p>X = pos.X - (3902 &gt;&gt; 4);</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_1250;z=30;r=256000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 10: // 4096</p>\r\n<p>{</p>\r\n<p>Y = (4182 &gt;&gt; 3) - pos.Y;</p>\r\n<p>X = pos.X - (3902 &gt;&gt; 3);</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_1250;z=30;r=128000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 11: // 4096</p>\r\n<p>{</p>\r\n<p>Y = (4182 / 4) - pos.Y;</p>\r\n<p>X = pos.X - (3902 / 4);</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_1250;z=30;r=64000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 12: // 4096</p>\r\n<p>{</p>\r\n<p>Y = (4182 / 2) - pos.Y;</p>\r\n<p>X = pos.X - (3902 / 2);</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_200;z=30;r=32000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 13: // 4096</p>\r\n<p>{</p>\r\n<p>Y = 4182 - pos.Y;</p>\r\n<p>X = pos.X - 3902;</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_25;z=30;r=16000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 14: // 2048</p>\r\n<p>{</p>\r\n<p>Y = 4182 * 2 - pos.Y;</p>\r\n<p>X = pos.X - 3902 * 2;</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_25;z=30;r=8000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 15:// 1024</p>\r\n<p>{</p>\r\n<p>Y = 4182 * 4 - pos.Y;</p>\r\n<p>X = pos.X - 3902 * 4;</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=topografico-mtn_25;z=30;r=4000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 16:// 512</p>\r\n<p>{</p>\r\n<p>Y = 4182 * 8 - pos.Y;</p>\r\n<p>X = pos.X - 3902 * 8;</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=ortofotos;z=30;r=2000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 17:// 256</p>\r\n<p>{</p>\r\n<p>Y = 4182 * 16 - pos.Y;</p>\r\n<p>X = pos.X - 3902 * 16;</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=ortofotos;z=30;r=1000;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 18:// 128</p>\r\n<p>{</p>\r\n<p>Y = 4182 * 32 - pos.Y;</p>\r\n<p>X = pos.X - 3902 * 32;</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=ortofotos;z=30;r=500;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>case 19://64</p>\r\n<p>{</p>\r\n<p>Y = 4182 * 64 - pos.Y;</p>\r\n<p>X = pos.X - 3902 * 64;</p>\r\n<p>return string.Format(&quot;http://tilesserver.mapa.es/tilesserver/n=ortofotos;z=30;r=250;i={0};j={1}.jpg&quot;, Convert.ToInt32(X), Convert.ToInt32(Y));</p>\r\n<p>}</p>\r\n<p>&nbsp;}</p>\r\n<p>}</p>\r\n<p>&nbsp;</p>\r\n<p>Thank</p>\r\n<p>&nbsp;</p>\r\n<p>Saludos desde Espa&ntilde;a.</p>",
    "PostedDate": "2010-01-25T05:22:39.237-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "281465",
    "ThreadId": "81925",
    "Html": "<p>what do you mean 'with no precision' ?</p>",
    "PostedDate": "2010-01-25T08:47:07.467-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "281479",
    "ThreadId": "81925",
    "Html": "<p>when i manually fix de tiles (ej.: Y = 4182 * 64 - pos.Y;&nbsp;)&nbsp;this&nbsp;are&nbsp;drawing not in place they must. the Map es draw correctly but desplaced a bit. And this vary with zoom.</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ok&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MAP</p>\r\n<p>zoom 10&nbsp;&nbsp;&nbsp;&nbsp; x metres&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x + 200 metres</p>\r\n<p>zoom 11&nbsp;&nbsp;&nbsp;&nbsp; x metres&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x + 50 metres</p>\r\n<p>and so on</p>\r\n<p>i thing it can be DATUM or.... I dont know I am newbies with GIS.</p>\r\n<p>&nbsp;</p>\r\n<p>thank</p>",
    "PostedDate": "2010-01-25T09:18:56.75-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "281484",
    "ThreadId": "81925",
    "Html": "<p>you mean markers are placed in wrong position?</p>",
    "PostedDate": "2010-01-25T09:36:43.147-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "281742",
    "ThreadId": "81925",
    "Html": "<p>Hi Radioman</p>\r\n<p>my app is a track viewer, i ride bike in Buenaventura - Toledo - Spain.</p>\r\n<p>I&nbsp;try to include GMAP&nbsp;as other track viewer. As you can see i have&nbsp;GoogleMap api, google plugin an now GMAP too.&nbsp;</p>\r\n<p>when the &quot;souce data&quot; is yahoo, google, bing..... the track &quot;from - to&quot; is right but if I switch to&nbsp;SIGPAC &quot;datasource&quot; the track is offset in lat and lng and this offset is not a linear progresion.</p>\r\n<table style=\"width:auto;float:left\" border=0>\r\n<tbody>\r\n<tr>\r\n<td><a href=\"http://picasaweb.google.com/lh/photo/NsYzVan84VztMsWSFTkKUA?feat=embedwebsite\"><img src=\"http://lh6.ggpht.com/_YppF1PaTjNE/S16qNlDt3TI/AAAAAAAAAHE/PLFxLe59rfE/s144/Ok.jpg\" alt=\"\"></a></td>\r\n</tr>\r\n<tr>\r\n<td style=\"font-family:arial,sans-serif;font-size:11px;text-align:right\">From <a href=\"http://picasaweb.google.com/rcastrogo/GMAP?feat=embedwebsite\">GMAP</a></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<table style=\"width:auto;float:left\" border=0>\r\n<tbody>\r\n<tr>\r\n<td><a href=\"http://picasaweb.google.com/lh/photo/ExcJRPd1v7JQ_kSBLRF7gA?feat=embedwebsite\"><img src=\"http://lh6.ggpht.com/_YppF1PaTjNE/S16qODpLoPI/AAAAAAAAAHI/3M357WWP2OI/s144/Fail.jpg\" alt=\"\"></a></td>\r\n</tr>\r\n<tr>\r\n<td style=\"font-family:arial,sans-serif;font-size:11px;text-align:right\">From <a href=\"http://picasaweb.google.com/rcastrogo/GMAP?feat=embedwebsite\">GMAP</a></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<table style=\"width:auto;float:left\" border=0>\r\n<tbody>\r\n<tr>\r\n<td><a href=\"http://picasaweb.google.com/lh/photo/WfQQci5PcwQEF-yi-bFT9w?feat=embedwebsite\"><img src=\"http://lh3.ggpht.com/_YppF1PaTjNE/S16qORqDUmI/AAAAAAAAAHM/msQnzYKe4ts/s144/Zoom15.jpg\" alt=\"\"></a></td>\r\n</tr>\r\n<tr>\r\n<td style=\"font-family:arial,sans-serif;font-size:11px;text-align:right\">From <a href=\"http://picasaweb.google.com/rcastrogo/GMAP?feat=embedwebsite\">GMAP</a></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<table style=\"width:auto;float:left\" border=0>\r\n<tbody>\r\n<tr>\r\n<td><a href=\"http://picasaweb.google.com/lh/photo/i2naySbwt715rV92qLjLgg?feat=embedwebsite\"><img src=\"http://lh3.ggpht.com/_YppF1PaTjNE/S16qOgH2pSI/AAAAAAAAAHQ/ZOm4Mst-yUo/s144/Zoom16.jpg\" alt=\"\"></a></td>\r\n</tr>\r\n<tr>\r\n<td style=\"font-family:arial,sans-serif;font-size:11px;text-align:right\">\r\n<p>From <a href=\"http://picasaweb.google.com/rcastrogo/GMAP?feat=embedwebsite\">GMAP</a></p>\r\n</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>thank</p>\r\n<p>Finedust</p>",
    "PostedDate": "2010-01-26T01:00:15.157-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "281778",
    "ThreadId": "81925",
    "Html": "<p>i see, hmm.. what projection class do you use?, it's definitely a customized one</p>",
    "PostedDate": "2010-01-26T03:38:27.48-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "281873",
    "ThreadId": "81925",
    "Html": "<p>hi radioman</p>\r\n<p>The projection is&nbsp;Tranverse Mercator</p>\r\n<p>PROJCS[&quot;ED50 / UTM zone 30N\\&quot;,&quot;GEOGCS[\\&quot;ED50\\&quot;,&quot;DATUM[\\&quot;European Datum 1950\\&quot;,&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;<strong>SPHEROID[\\&quot;International 1924\\&quot;, 6378388.0</strong>, 297.0, AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;7022\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;<strong>TOWGS84[-157.89, -17.16, -78.41, 2.118, 2.697, -1.434, -1.1097046576093785],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +</strong> &nbsp;&nbsp;&nbsp; &quot;AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;6230\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;PRIMEM[\\&quot;Greenwich\\&quot;, 0.0, AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;8901\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &nbsp;&nbsp;&nbsp; &quot;UNIT[\\&quot;degree\\&quot;, 0.017453292519943295],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AXIS[\\&quot;Geodetic longitude\\&quot;, EAST],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AXIS[\\&quot;Geodetic latitude\\&quot;, NORTH],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;4230\\&quot;]],&quot; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + &quot;PROJECTION[\\&quot;<strong>Transverse Mercator</strong>\\&quot;, AUTHORITY[\\&quot;EPSG\\&quot;,\\&quot;9807\\&quot;]],&quot;</p>\r\n<p>In GMAP I use&nbsp;<span style=\"color:#2b91af;font-size:xx-small\"><span style=\"color:#2b91af;font-size:xx-small\">MercatorProjection </span></span>but it seem the tiles are in other projection.</p>\r\n<p><strong><strong><strong>it's definitely a customized one</strong></strong></strong></p>\r\n<p>The good news is that i find other &quot;service&quot; or url. This new service work well. Just i want.</p>\r\n<p>this is the fragment code that i wrote.</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">private</span> <span style=\"color:Blue\">string</span> _makeWmsKeySig(MapType type, Point pos, <span style=\"color:Blue\">int</span> zoom, PureProjection projection)\r\n    {\r\n      <span style=\"color:Blue\">int</span> Y = (2 &lt;&lt; zoom - 1) - pos.Y - 1;\r\n      <span style=\"color:Blue\">string</span>[] levels = { <span style=\"color:#A31515\">&quot;0&quot;</span>, <span style=\"color:#A31515\">&quot;1&quot;</span>, <span style=\"color:#A31515\">&quot;2&quot;</span>, <span style=\"color:#A31515\">&quot;3&quot;</span>, <span style=\"color:#A31515\">&quot;4&quot;</span>, \r\n                          <span style=\"color:#A31515\">&quot;MTNSIGPAC&quot;</span>, \r\n                          <span style=\"color:#A31515\">&quot;MTN2000&quot;</span>, <span style=\"color:#A31515\">&quot;MTN2000&quot;</span>, <span style=\"color:#A31515\">&quot;MTN2000&quot;</span>, <span style=\"color:#A31515\">&quot;MTN2000&quot;</span>, <span style=\"color:#A31515\">&quot;MTN2000&quot;</span>, \r\n                          <span style=\"color:#A31515\">&quot;MTN200&quot;</span>, <span style=\"color:#A31515\">&quot;MTN200&quot;</span>, <span style=\"color:#A31515\">&quot;MTN200&quot;</span>, \r\n                          <span style=\"color:#A31515\">&quot;MTN25&quot;</span>, <span style=\"color:#A31515\">&quot;MTN25&quot;</span>,\r\n                          <span style=\"color:#A31515\">&quot;ORTOFOTOS&quot;</span>,<span style=\"color:#A31515\">&quot;ORTOFOTOS&quot;</span>,<span style=\"color:#A31515\">&quot;ORTOFOTOS&quot;</span>,<span style=\"color:#A31515\">&quot;ORTOFOTOS&quot;</span> };\r\n      <span style=\"color:Blue\">if</span> (zoom &lt; 5)\r\n      {\r\n        <span style=\"color:Blue\">return</span> <span style=\"color:Blue\">string</span>.Format(<span style=\"color:#A31515\">&quot;http://maps{0}.yimg.com/hx/tl?v={1}&amp;.intl={2}&amp;x={3}&amp;y={4}&amp;z={5}&amp;r=1&quot;</span>, ((GetServerNum(pos, 2)) + 1), VersionYahooMap, <span style=\"color:#A31515\">&quot;es&quot;</span>, pos.X, (((1 &lt;&lt; zoom) &gt;&gt; 1) - 1 - pos.Y), (zoom + 1));\r\n      }\r\n      <span style=\"color:Blue\">else</span>\r\n      {\r\n        <span style=\"color:Blue\">return</span> <span style=\"color:Blue\">string</span>.Format(<span style=\"color:#A31515\">&quot;http://sigpac.mapa.es/kmlserver/raster/{0}@3785/{1}.{2}.{3}.img&quot;</span>, levels[zoom], zoom, pos.X, Y);\r\n      }\r\n      \r\n    }\r\n</pre>\r\n<pre>thank radioman</pre>\r\n</div>",
    "PostedDate": "2010-01-26T07:31:40.88-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "281923",
    "ThreadId": "81925",
    "Html": "<p>Transverse Mercator, yes it's different, i'll test it right now</p>",
    "PostedDate": "2010-01-26T09:50:22.22-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "281933",
    "ThreadId": "81925",
    "Html": "<p>great, the new 'service' use standard mercator</p>",
    "PostedDate": "2010-01-26T10:08:08.7-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]