[
  {
    "Id": "1053613",
    "ThreadId": "446229",
    "Html": "Hello to everyone, i wrote this class. I'd like to have some advice...<br />\n<pre><code>public class convertitore\n        {\n\n            public string zonautm;\n            public int lngzonautm;\n            public char latzonautm;\n            public double latutm;\n            public double lngutm;\n\n            public void latlongtoutm(double lat, double lng)\n            \n            {\n                lngzonautm = Convert.ToInt16(31 + Math.Floor(lng / 6));\n                int valore = Convert.ToInt16 (Math.Floor(lat/8));\n                if (valore &gt;= -10)\n                    latzonautm = 'C';\n                if (valore &gt;= -9)\n                    latzonautm = 'D';\n                if (valore &gt;= -8)\n                    latzonautm = 'E';\n                if (valore &gt;= -7)\n                    latzonautm = 'F';\n                if (valore &gt;= -6)\n                    latzonautm = 'G';\n                if (valore &gt;= -5)\n                    latzonautm = 'H';\n                if (valore &gt;= -4)\n                    latzonautm = 'J';\n                if (valore &gt;= -3)\n                    latzonautm = 'K';\n                if (valore &gt;= -2)\n                    latzonautm = 'L';\n                if (valore &gt;= -1)\n                    latzonautm = 'M';\n                if (valore &gt;= 0)\n                    latzonautm = 'N';\n                if (valore &gt;= 1)\n                    latzonautm = 'P';\n                if (valore &gt;= 2)\n                    latzonautm = 'Q';\n                if (valore &gt;= 3)\n                    latzonautm = 'R';\n                if (valore &gt;= 4)\n                    latzonautm = 'S';\n                if (valore &gt;= 5)\n                    latzonautm = 'T';\n                if (valore &gt;= 6)\n                    latzonautm = 'U';\n                if (valore &gt;= 7)\n                    latzonautm = 'V';\n                if (valore &gt;= 8)\n                    latzonautm = 'W';\n                if (valore &gt;= 9)\n                    latzonautm = 'X';\n                 zonautm = lngzonautm.ToString()+latzonautm;\n               \n                //Costanti del Datum WGS84\n                double Latrad = lat * Math.PI / 180;\n                double Lngrad = lng * Math.PI / 180;\n                double e1sq = 0.006739497;\n                double a = 6378137.0;//Raggio equatoriale\n                double b = 6356752.3;//raggio polare\n                double f = (a - b) / a;//schiacciamento\n                double fi = 1/f; //inverso deoo schiacciamento;\n                double rm = Math.Pow((a * b), 0.5);\n                double k0 = 0.9996;\n                double e =Math.Sqrt(1 - Math.Pow((b / a), 2));\n                double e2 = e * e / (1 - e * e);\n                double n = (a - b) + (a + b);\n                double rho = (a * (1 - e * e)) / Math.Pow((1 - Math.Pow((e * Math.Sin(Latrad)), 2)), 1.5);\n                double nu = a / Math.Pow(1 - Math.Pow((e * Math.Sin(Latrad)), 2), 0.5);\n                double A0 = 6367449.146;\n                double B0 = 16038.42955;\n                double C0 = 16.83261333;\n                double D0 = 0.021984404;\n                double E0 = 0.000312705;\n                double S = A0 * Latrad - B0 * Math.Sin(2 * Latrad) + C0 * Math.Sin(4 * Latrad) - D0 * Math.Sin(6 * Latrad) + E0 * Math.Sin(8 * Latrad);\n                double longZoneCM = 6 * lngzonautm - 183;\n                double DeltaLongRAD = (lng - longZoneCM) * Math.PI / 180;\n                double ki = S * 0.9996;\n                double kii = nu * Math.Sin(Latrad) * Math.Cos(Latrad)* k0 / 2;\n                double kiii = (nu * Math.Sin(Latrad) * Math.Pow(Math.Cos(Latrad), 3)/24)*(5-Math.Pow(Math.Tan(Latrad),2)+9*e1sq*Math.Pow(Math.Cos(Latrad),2)+4*Math.Pow(e1sq,2)*Math.Pow(Math.Cos(Latrad),4)*k0);\n                double kiv = nu * Math.Cos(Latrad) * k0;\n                double kv = Math.Pow(Math.Cos(Latrad),3)*(nu/6)*(1-Math.Pow(Math.Tan(Latrad),2)+e1sq*Math.Pow(Math.Cos(Latrad),2))*k0;\n                latutm = ki+kii*DeltaLongRAD*DeltaLongRAD+kiii*Math.Pow(DeltaLongRAD,4);\n                lngutm = 500000 + (kiv * DeltaLongRAD + kv * Math.Pow(DeltaLongRAD, 3));\n                \n                \n            }\n\n          \n        }</code></pre>\n\n",
    "PostedDate": "2013-06-06T08:24:03.06-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]