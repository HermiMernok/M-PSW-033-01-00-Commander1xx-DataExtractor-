[
  {
    "Id": "1234202",
    "ThreadId": "542269",
    "Html": "While working on my application I needed a provider for maps <a href=\"http://visicom.ua/?lang=en\" rel=\"nofollow\">Visicom</a>. These maps include Ukraine, Belarus, Kazakhstan and Georgia. Language of maps is Russian, Ukrainian and English. API <a href=\"http://api.visicom.ua/docs/reference/tms\" rel=\"nofollow\">http://api.visicom.ua/docs/reference/tms</a> (Russian only)<br />\n<div style=\"color:Black;background-color:White;\"><pre>\r\n<span style=\"color:Blue;\">namespace</span> GMap.NET.MapProviders\n{\n    <span style=\"color:Blue;\">using</span> System;\n    <span style=\"color:Blue;\">using</span> GMap.NET.Projections;\n    <span style=\"color:Blue;\">using</span> GMap.NET.Internals;\n\n    <span style=\"color:Blue;\">public</span> <span style=\"color:Blue;\">class</span> VisicomMapProvider : GMapProvider\n    {\n        <span style=\"color:Blue;\">public</span> <span style=\"color:Blue;\">static</span> <span style=\"color:Blue;\">readonly</span> VisicomMapProvider Instance;\n\n        <span style=\"color:Blue;\">static</span> VisicomMapProvider() \n        {\n            Instance = <span style=\"color:Blue;\">new</span> VisicomMapProvider();\n        }\n\n        \n        <span style=\"color:Blue;\">readonly</span> Guid id = <span style=\"color:Blue;\">new</span> Guid(<span style=\"color:#A31515;\">&quot;E1AC687F-E11B-4BB7-9227-E53F5F52280A&quot;</span>);\n        <span style=\"color:Blue;\">public</span> <span style=\"color:Blue;\">override</span> Guid Id\n        {\n            <span style=\"color:Blue;\">get</span>\n            { \n                <span style=\"color:Blue;\">return</span> id;\n            }\n        }\n\n        <span style=\"color:Blue;\">readonly</span> <span style=\"color:Blue;\">string</span> name = <span style=\"color:#A31515;\">&quot;VisicomMap&quot;</span>;\n        <span style=\"color:Blue;\">public</span> <span style=\"color:Blue;\">override</span> <span style=\"color:Blue;\">string</span> Name\n        {\n            <span style=\"color:Blue;\">get</span> \n            {\n                <span style=\"color:Blue;\">return</span> name; \n            }\n        }\n\n        <span style=\"color:Blue;\">public</span> <span style=\"color:Blue;\">override</span> PureProjection Projection\n        {\n            <span style=\"color:Blue;\">get</span> \n            {\n                <span style=\"color:Blue;\">return</span> MercatorProjection.Instance;\n            }\n        }\n\n        GMapProvider[] overlays;\n        <span style=\"color:Blue;\">public</span> <span style=\"color:Blue;\">override</span> GMapProvider[] Overlays\n        {\n            <span style=\"color:Blue;\">get</span> \n            { \n                <span style=\"color:Blue;\">if</span>(overlays == <span style=\"color:Blue;\">null</span>)\n                {\n                   overlays = <span style=\"color:Blue;\">new</span> GMapProvider[] { <span style=\"color:Blue;\">this</span> };\n                }\n            <span style=\"color:Blue;\">return</span> overlays;\n            }\n        }\n\n        <span style=\"color:Blue;\">public</span> <span style=\"color:Blue;\">override</span> PureImage GetTileImage(GPoint pos, <span style=\"color:Blue;\">int</span> zoom)\n        {\n            <span style=\"color:Blue;\">string</span> url = MakeTileImageUrl(pos, zoom);\n\n            <span style=\"color:Blue;\">return</span> GetTileImageUsingHttp(url);\n        }\n\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">string</span> MakeTileImageUrl(GPoint pos, <span style=\"color:Blue;\">int</span> zoom) \n        {\n            <span style=\"color:Blue;\">return</span> CreateTileUrl(SubDomain.Third, MapData.planet3, MapStyle.base_ru, pos, zoom);\n        }\n\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">string</span> CreateTileUrl(SubDomain subDomain, MapData mapData, MapStyle mapStyle, GPoint pos, <span style=\"color:Blue;\">int</span> zoom) \n        {\n            <span style=\"color:Blue;\">string</span> map = <span style=\"color:Blue;\">string</span>.Empty;\n            <span style=\"color:Blue;\">string</span> style = <span style=\"color:Blue;\">string</span>.Empty;\n            <span style=\"color:Blue;\">switch</span> (mapData) \n            {\n                <span style=\"color:Blue;\">case</span> MapData.planet3: map = planet3; <span style=\"color:Blue;\">break</span>;\n                <span style=\"color:Blue;\">case</span> MapData.ukraine: map = ukraine; <span style=\"color:Blue;\">break</span>;\n            }\n            <span style=\"color:Blue;\">switch</span> (mapStyle) \n            {\n                <span style=\"color:Blue;\">case</span> MapStyle.base_uk: style = base_uk; <span style=\"color:Blue;\">break</span>;\n                <span style=\"color:Blue;\">case</span> MapStyle.base_ru: style = base_ru; <span style=\"color:Blue;\">break</span>;\n                <span style=\"color:Blue;\">case</span> MapStyle.base_en: style = base_en; <span style=\"color:Blue;\">break</span>;\n            }\n\n             <span style=\"color:Blue;\">int</span> y = PicturesCount(zoom) - 1 - (<span style=\"color:Blue;\">int</span>)pos.Y;\n\n             <span style=\"color:Blue;\">return</span> <span style=\"color:Blue;\">string</span>.Format(UrlFormat, (<span style=\"color:Blue;\">int</span>)subDomain, map, style, zoom, pos.X, y);\n        }\n\n        <span style=\"color:Green;\">//static readonly string UrlFormat = &quot;http://tms[n].visicom.ua/2.0.0/[map]/[style]/[z]/[x]/[y].png&quot;;</span>\n        <span style=\"color:Blue;\">static</span> <span style=\"color:Blue;\">readonly</span> <span style=\"color:Blue;\">string</span> UrlFormat = <span style=\"color:#A31515;\">&quot;http://tms{0}.visicom.ua/2.0.0/{1}/{2}/{3}/{4}/{5}.png&quot;</span>;\n\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">enum</span> SubDomain \n        {\n            Zero = 0, First = 1, Second = 2, Third =  3\n        }\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">enum</span> MapData \n        {\n            planet3 = 0, ukraine = 1\n        }\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">enum</span> MapStyle\n        {\n            base_uk = 0, base_ru = 1, base_en = 2\n        }\n        <span style=\"color:Green;\">//MapData</span>\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">readonly</span> <span style=\"color:Blue;\">string</span> planet3 = <span style=\"color:#A31515;\">&quot;planet3&quot;</span>;\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">readonly</span> <span style=\"color:Blue;\">string</span> ukraine = <span style=\"color:#A31515;\">&quot;ukraine&quot;</span>;\n\n       <span style=\"color:Green;\">//MapLanguage</span>\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">readonly</span> <span style=\"color:Blue;\">string</span> base_uk = <span style=\"color:#A31515;\">&quot;base_uk&quot;</span>;\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">readonly</span> <span style=\"color:Blue;\">string</span> base_ru = <span style=\"color:#A31515;\">&quot;base_ru&quot;</span>;\n        <span style=\"color:Blue;\">private</span> <span style=\"color:Blue;\">readonly</span> <span style=\"color:Blue;\">string</span> base_en = <span style=\"color:#A31515;\">&quot;base_en&quot;</span>;\n\n       \n\n        <span style=\"color:Blue;\">public</span> <span style=\"color:Blue;\">static</span> <span style=\"color:Blue;\">int</span> PicturesCount(<span style=\"color:Blue;\">int</span> z) { <span style=\"color:Blue;\">return</span> (<span style=\"color:Blue;\">int</span>)Math.Pow(2, z); }\n\n        \n    }\n}\n\r\n</pre></div>",
    "PostedDate": "2014-04-15T00:12:04.27-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1234403",
    "ThreadId": "542269",
    "Html": "thanks!<br />\n",
    "PostedDate": "2014-04-15T10:36:58.13-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1234455",
    "ThreadId": "542269",
    "Html": "Radioman, thank you for a great project.<br />\n",
    "PostedDate": "2014-04-15T12:58:14.89-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]